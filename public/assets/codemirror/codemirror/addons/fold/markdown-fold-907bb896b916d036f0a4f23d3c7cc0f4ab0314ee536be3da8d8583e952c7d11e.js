!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(a){"use strict";a.registerHelper("fold","markdown",function(t,e){function i(e){var n=t.getTokenTypeAt(a.Pos(e,0));return n&&/\bheader\b/.test(n)}function n(e,n,t){var r=n&&n.match(/^#+/);return r&&i(e)?r[0].length:(r=t&&t.match(/^[=\-]+\s*$/))&&i(e+1)?"="==t[0]?1:2:o}var o=100,r=t.getLine(e.line),f=t.getLine(e.line+1),l=n(e.line,r,f);if(l===o)return undefined;for(var u=t.lastLine(),c=e.line,d=t.getLine(c+2);c<u&&!(n(c+1,f,d)<=l);)++c,f=d,d=t.getLine(c+2);return{from:a.Pos(e.line,r.length),to:a.Pos(c,t.getLine(c).length)}})});